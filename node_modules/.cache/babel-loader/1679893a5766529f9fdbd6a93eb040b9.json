{"ast":null,"code":"import _objectSpread from\"/Users/michaelringelstein/Documents/Perso/Code/freaking_react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/michaelringelstein/Documents/Perso/Code/freaking_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Button from\"../UI/Button\";import Card from\"../UI/Card\";import Input from\"../UI/Input\";import Dropdown from\"../UI/Dropdown\";import\"../../App.css\";import instanceAxios from\"../../api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddMission=function AddMission(props){var _useState=useState({missionType:\"\",quantity:\"\",vins:\"\",pickUp:\"\",dropOff:\"\",fleet:\"\",comment:\"\"}),_useState2=_slicedToArray(_useState,2),newMission=_useState2[0],setNewMission=_useState2[1];var addMissionHandler=function addMissionHandler(event){event.preventDefault();props.onAdd(newMission);setNewMission({missionType:\"\",quantity:\"\",vins:\"\",pickUp:\"\",dropOff:\"\",fleet:\"\",comment:\"\"});};var missionSelectedChangeHandler=function missionSelectedChangeHandler(mission){setNewMission(_objectSpread(_objectSpread({},newMission),{},{missionType:mission}));};var quantityChangeHandler=function quantityChangeHandler(event){setNewMission(_objectSpread(_objectSpread({},newMission),{},{quantity:event.target.value}));};var vehicleIdsChangeHandler=function vehicleIdsChangeHandler(event){setNewMission(_objectSpread(_objectSpread({},newMission),{},{vins:event.target.value}));};var pickUpAdressChangeHandler=function pickUpAdressChangeHandler(event){setNewMission(_objectSpread(_objectSpread({},newMission),{},{pickUp:event.target.value}));};var dropOffAdressChangeHandler=function dropOffAdressChangeHandler(event){setNewMission(_objectSpread(_objectSpread({},newMission),{},{dropOff:event.target.value}));};var fleetChangeHandler=function fleetChangeHandler(event){setNewMission(_objectSpread(_objectSpread({},newMission),{},{fleet:event.target.value}));};var commentChangeHandler=function commentChangeHandler(event){setNewMission(_objectSpread(_objectSpread({},newMission),{},{comment:event.target.value}));};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),missions=_useState4[0],setMissions=_useState4[1];useEffect(function(){instanceAxios.get(\"mission_type.json\").then(function(response){//console.log(response.data.missionTypes);\nsetMissions(response.data.missionTypes);setNewMission(_objectSpread(_objectSpread({},newMission),{},{missionType:response.data.missionTypes[0]}));});},[props]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pb-3 sm:pb-2\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold leading-6 text-black \",children:\"Create a mission\"})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:addMissionHandler,children:/*#__PURE__*/_jsxs(Card,{className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-6 gap-4 px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-6 sm:col-span-4\",children:/*#__PURE__*/_jsx(\"div\",{children:Array.isArray(missions)?/*#__PURE__*/_jsx(Dropdown,{label:\"Mission type\",onChange:missionSelectedChangeHandler,list:missions,selected:newMission.missionType,requiredField:true}):/*#__PURE__*/_jsx(_Fragment,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-6 sm:col-span-3\",children:/*#__PURE__*/_jsx(Input,{labelContent:\"Quantit\\xE9\",type:\"text\",name:\"quantity\",onChange:quantityChangeHandler,value:newMission.quantity,requiredField:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-6 sm:col-span-3\",children:/*#__PURE__*/_jsx(Input,{labelContent:\"VINs\",type:\"text\",name:\"vehicle_ids\",onChange:vehicleIdsChangeHandler,value:newMission.vins,requiredField:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-6 sm:col-span-6\",children:/*#__PURE__*/_jsx(Input,{labelContent:\"Enl\\xE8vement\",type:\"text\",name:\"pick_up\",onChange:pickUpAdressChangeHandler,value:newMission.pickUp,requiredField:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-6 sm:col-span-6\",children:/*#__PURE__*/_jsx(Input,{labelContent:\"D\\xE9p\\xF4t\",type:\"text\",name:\"drop_off\",onChange:dropOffAdressChangeHandler,value:newMission.dropOff,requiredField:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-6 sm:col-span-3\",children:/*#__PURE__*/_jsx(Input,{labelContent:\"Flotte\",type:\"text\",name:\"fleet\",onChange:fleetChangeHandler,value:newMission.fleet,requiredField:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-6 sm:col-span-6\",children:/*#__PURE__*/_jsx(Input,{labelContent:\"Commentaire\",type:\"text\",name:\"comment\",onChange:commentChangeHandler,value:newMission.comment,requiredField:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"py-3 bg-gray-50 text-right px-2 sm:px-6\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Add Mission\"})})]})})]});};export default AddMission;","map":{"version":3,"names":["React","useEffect","useState","Button","Card","Input","Dropdown","instanceAxios","AddMission","props","missionType","quantity","vins","pickUp","dropOff","fleet","comment","newMission","setNewMission","addMissionHandler","event","preventDefault","onAdd","missionSelectedChangeHandler","mission","quantityChangeHandler","target","value","vehicleIdsChangeHandler","pickUpAdressChangeHandler","dropOffAdressChangeHandler","fleetChangeHandler","commentChangeHandler","missions","setMissions","get","then","response","data","missionTypes","Array","isArray"],"sources":["/Users/michaelringelstein/Documents/Perso/Code/freaking_react/src/components/MissionCreation/AddMission.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Button from \"../UI/Button\";\nimport Card from \"../UI/Card\";\nimport Input from \"../UI/Input\";\nimport Dropdown from \"../UI/Dropdown\";\nimport \"../../App.css\";\nimport instanceAxios from \"../../api/index\"\n\nconst AddMission = (props) => {\n  \n  const [newMission, setNewMission] = useState({\n    missionType: \"\",\n    quantity: \"\",\n    vins: \"\",\n    pickUp: \"\",\n    dropOff: \"\",\n    fleet: \"\",\n    comment: \"\",\n  });\n\n  const addMissionHandler = (event) => {\n    event.preventDefault();\n    props.onAdd(newMission);\n    setNewMission({\n      missionType: \"\",\n      quantity: \"\",\n      vins: \"\",\n      pickUp: \"\",\n      dropOff: \"\",\n      fleet: \"\",\n      comment: \"\",\n    });\n  };\n\n  const missionSelectedChangeHandler = (mission) => {\n    setNewMission({ ...newMission, missionType: mission });\n  };\n  const quantityChangeHandler = (event) => {\n    setNewMission({ ...newMission, quantity: event.target.value });\n  };\n  const vehicleIdsChangeHandler = (event) => {\n    setNewMission({ ...newMission, vins: event.target.value });\n  };\n  const pickUpAdressChangeHandler = (event) => {\n    setNewMission({ ...newMission, pickUp: event.target.value });\n  };\n  const dropOffAdressChangeHandler = (event) => {\n    setNewMission({ ...newMission, dropOff: event.target.value });\n  };\n  const fleetChangeHandler = (event) => {\n    setNewMission({ ...newMission, fleet: event.target.value });\n  };\n  const commentChangeHandler = (event) => {\n    setNewMission({ ...newMission, comment: event.target.value });\n  };\n\n  const [missions, setMissions] = useState(\"\");\n  useEffect(() => {\n    instanceAxios.get(\"mission_type.json\").then((response) => {\n      //console.log(response.data.missionTypes);\n      setMissions(response.data.missionTypes);\n      setNewMission({ ...newMission, missionType: response.data.missionTypes[0]})\n    });\n  }, [props]);\n\n\n\n  return (\n    <div>\n      <div className=\"pb-3 sm:pb-2\">\n        <h1 className=\"text-xl font-bold leading-6 text-black \">\n          Create a mission\n        </h1>\n      </div>\n      <form onSubmit={addMissionHandler}>\n        <Card className=\"\">\n          <div className=\"grid grid-cols-6 gap-4 px-4 py-5 sm:p-6\">\n            <div className=\"col-span-6 sm:col-span-4\">\n              <div>\n                {Array.isArray(missions) ? (\n                  <Dropdown\n                    label=\"Mission type\"\n                    onChange={missionSelectedChangeHandler}\n                    list={missions}\n                    selected={newMission.missionType}\n                    requiredField={true}\n                  />\n                ) : (\n                  <></>\n                )}\n              </div>\n            </div>\n            <div className=\"col-span-6 sm:col-span-3\">\n              <Input\n                labelContent=\"Quantité\"\n                type=\"text\"\n                name=\"quantity\"\n                onChange={quantityChangeHandler}\n                value={newMission.quantity}\n                requiredField={true}\n              ></Input>\n            </div>\n            <div className=\"col-span-6 sm:col-span-3\">\n              <Input\n                labelContent=\"VINs\"\n                type=\"text\"\n                name=\"vehicle_ids\"\n                onChange={vehicleIdsChangeHandler}\n                value={newMission.vins}\n                requiredField={true}\n              ></Input>\n            </div>\n            <div className=\"col-span-6 sm:col-span-6\">\n              <Input\n                labelContent=\"Enlèvement\"\n                type=\"text\"\n                name=\"pick_up\"\n                onChange={pickUpAdressChangeHandler}\n                value={newMission.pickUp}\n                requiredField={true}\n              ></Input>\n            </div>\n            <div className=\"col-span-6 sm:col-span-6\">\n              <Input\n                labelContent=\"Dépôt\"\n                type=\"text\"\n                name=\"drop_off\"\n                onChange={dropOffAdressChangeHandler}\n                value={newMission.dropOff}\n                requiredField={true}\n              ></Input>\n            </div>\n            <div className=\"col-span-6 sm:col-span-3\">\n              <Input\n                labelContent=\"Flotte\"\n                type=\"text\"\n                name=\"fleet\"\n                onChange={fleetChangeHandler}\n                value={newMission.fleet}\n                requiredField={true}\n              ></Input>\n            </div>\n            <div className=\"col-span-6 sm:col-span-6\">\n              <Input\n                labelContent=\"Commentaire\"\n                type=\"text\"\n                name=\"comment\"\n                onChange={commentChangeHandler}\n                value={newMission.comment}\n                requiredField={true}\n              ></Input>\n            </div>\n          </div>\n          <div className=\"py-3 bg-gray-50 text-right px-2 sm:px-6\">\n            <Button type=\"submit\">Add Mission</Button>\n          </div>\n        </Card>\n      </form>\n    </div>\n  );\n};\nexport default AddMission;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}